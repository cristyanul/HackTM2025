<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Admin • Map editor</title>
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- Leaflet -->
  <link rel="stylesheet"
        href="https://unpkg.com/leaflet@1.9/dist/leaflet.css"/>
  <script src="https://unpkg.com/leaflet@1.9/dist/leaflet.js"></script>

  <style>
    #map .leaflet-container { width:100%; height:100%; }
  </style>
</head>
<body class="h-screen flex flex-col">

<header class="p-4 bg-gray-800 text-white">
  <div class="flex justify-between items-center">
    <span class="text-xl text-white">Admin · Resource Map</span>
    <div class="flex items-center space-x-4">
      <label class="text-sm">Filter by type:</label>
      <select id="typeFilter" class="text-black px-2 py-1 rounded">
        <option value="">All types</option>
      </select>
      <a class="underline text-white" href="/admin/list">List view</a>
      <a class="underline text-white" href="/chat">AI Chat</a>
    </div>
  </div>
</header>

<div id="map" class="flex-1"></div>

<!-- Modal -->
<dialog id="placeModal" class="p-4 rounded-lg w-96 shadow-lg">
  <form id="placeForm" class="space-y-4">
    <input type="hidden" id="placeId">
    <div>
      <label class="block text-sm font-medium">Name</label>
      <input id="name" class="w-full border p-1 rounded" required>
    </div>
    <div>
      <label class="block text-sm font-medium">Type</label>
      <select id="type" class="w-full border p-1 rounded" required>
        <option value="">Select type...</option>
        <option value="Space">Space (venues, halls, rooms)</option>
        <option value="Volunteer">Volunteer (NGOs, volunteers)</option>
        <option value="Partner">Partner (companies, institutions)</option>
        <option value="Logistics">Logistics (catering, equipment)</option>
        <option value="Grant">Grant (funding, financial support)</option>
        <option value="Event">Event (existing events, networking)</option>
        <option value="Participatory Program">Participatory Program (community programs)</option>
        <option value="Project">Project (infrastructure, development)</option>
      </select>
    </div>
    <div>
      <label class="block text-sm font-medium">Category</label>
      <input id="category" class="w-full border p-1 rounded" placeholder="e.g., Conference Hall, Tech NGO">
    </div>
    <div>
      <label class="block text-sm font-medium">City</label>
      <input id="city" class="w-full border p-1 rounded" placeholder="e.g., Timișoara">
    </div>
    <div>
      <label class="block text-sm font-medium">Capacity</label>
      <input id="capacity" type="number" class="w-full border p-1 rounded" placeholder="Number of people (for spaces)">
    </div>
    <div>
      <label class="block text-sm font-medium">Description</label>
      <textarea id="description" class="w-full border p-1 rounded h-20" placeholder="Brief description of the resource"></textarea>
    </div>
    <div>
      <label class="block text-sm font-medium">Contact</label>
      <input id="contact" class="w-full border p-1 rounded" placeholder="Email or phone">
    </div>
    <div>
      <label class="block text-sm font-medium">URL</label>
      <input id="url" type="url" class="w-full border p-1 rounded" placeholder="Website or social media">
    </div>
    <div class="flex justify-end space-x-3">
      <button type="button" id="deleteBtn"
              class="hidden bg-red-600 text-white px-3 py-1 rounded">
        Delete
      </button>
      <button type="submit"
              class="bg-blue-600 text-white px-3 py-1 rounded">
        Save
      </button>
      <button type="button" id="cancelBtn"
              class="border px-3 py-1 rounded">
        Cancel
      </button>
    </div>
  </form>
</dialog>

<script src="/static/admin.js"></script>
</body>
</html>
